"use strict";function restrictNumberToPrefdecimalOnInput(a){restrictNumberToPrefdecimal(a,$("select#currency_id").find(":selected").data("type"))}function determineDecimalPoint(){var a=$("select#currency_id").find(":selected").data("type");"crypto"==a?($(".pFees, .fFees, .total_fees").text(CRYPTODP),$("#amount").attr("placeholder",CRYPTODP)):"fiat"==a&&($(".pFees, .fFees, .total_fees").text(FIATDP),$("#amount").attr("placeholder",FIATDP))}if($(".main-content").find("#crypto-send-create").length){var b,c,d="low",e=$(".receiver-address-validation-error"),f=$(".amount-validation-error"),g=!1,h=!1;function i(){g||h?$("#crypto-send-submit-btn").attr("disabled",!0):$("#crypto-send-submit-btn").attr("disabled",!1)}let a=$("#network").data("type");function j(a,b){return new Promise(function(c,d){$.ajax({method:"GET",url:validateAddressUrl,dataType:"json",data:{receiverAddress:a,walletCurrencyCode:b},beforeSend:function(){swal(pleaseWait,loading,{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1})}}).done(function(a){swal.close(),200!=a.status?(e.text(a.message),g=!0,i()):(e.text(""),g=!1,i()),c(a.status)}).fail(function(a){return swal.close(),!0==a.responseText.hasOwnProperty("message")?alert(JSON.parse(a.responseText).message):alert(a.responseText),d(a),!1})})}function k(a){f.text(a),g=!0,h=!0,i()}function l(a,b,c,e){return d=m($("#priority").val()),new Promise(function(j,l){("DOGE"==e||"DOGETEST"==e)&&a<2?k(`${minCryptoAmount.replace(":x","2 "+e)}`):("BTC"==e||"BTCTEST"==e)&&a<2e-5?k(`${minCryptoAmount.replace(":x","0.00002 "+e)}`):("LTC"==e||"LTCTEST"==e)&&a<2e-4?k(`${minCryptoAmount.replace(":x","0.0002 "+e)}`):$.ajax({method:"GET",url:validateBalanceUrl,dataType:"json",data:{amount:a,senderAddress:b,receiverAddress:c,walletCurrencyCode:e,priority:d},beforeSend:function(){swal(pleaseWait,loading,{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1})}}).done(function(a){swal.close(),401==a.status?(f.text(a.message),h=!0,i()):(f.text(""),g=!1,h=!1,i()),j()}).fail(function(a){return swal.close(),!0==a.responseText.hasOwnProperty("message")?alert(JSON.parse(a.responseText).message):alert(a.responseText),l(a),!1})})}function m(a){return a="high"==a?"high":"medium"==a?"medium":"low"}("crypto"==a||"crypto_asset"==a)&&$("#amount").attr("placeholder",CRYPTODP),$(window).on("load",function(f){var c=window.localStorage.getItem("previousUserCrytoSentUrl"),d=cryptoSendConfirmUrl,a=window.localStorage.getItem("user-crypto-sent-amount"),b=window.localStorage.getItem("user-crypto-receiver-address"),e=window.localStorage.getItem("priority");d==c&&null!=a&&null!=b&&(swal(pleaseWait,loading,{closeOnClickOutside:!1,closeOnEsc:!1,buttons:!1}),$(".amount").val(a),$(".receiverAddress").val(b),$(".priority").val(e),l($(".amount").val().trim(),senderAddress,$(".receiverAddress").val().trim(),walletCurrencyCode).then(()=>{$("#crypto-send-submit-btn").attr("disabled",!1),$(".spinner").hide(),$("#crypto-send-submit-btn-txt").html(sendBtn),window.localStorage.removeItem("user-crypto-sent-amount"),window.localStorage.removeItem("user-crypto-receiver-address"),window.localStorage.removeItem("priority"),window.localStorage.removeItem("previousUserCrytoSentUrl"),swal.close()}).catch(a=>{swal.close(),!0==a.responseText.hasOwnProperty("message")?alert(JSON.parse(a.responseText).message):alert(a.responseText)}))}),$(document).on("keyup",".receiverAddress",$.debounce(1e3,function(a){c=$(this).val().trim(),b=$(".amount").val().trim(),0==c.length?(e.text(""),g=!1,i()):j(c,walletCurrencyCode).then(a=>{b.length>0&&!isNaN(b)&&200==a&&l(b,senderAddress,c,walletCurrencyCode)}).catch(a=>{!0==a.responseText.hasOwnProperty("message")?alert(JSON.parse(a.responseText).message):alert(a.responseText)})})),$(document).on("keyup",".amount",$.debounce(700,function(a){b=$(this).val().trim(),c=$(".receiverAddress").val().trim(),b.length>0&&c.length>0&&!isNaN(b)?l(b,senderAddress,c,walletCurrencyCode).then(a=>{""!=c&&200==a&&j(c,walletCurrencyCode)}).catch(a=>{!0==a.responseText.hasOwnProperty("message")?alert(JSON.parse(a.responseText).message):alert(a.responseText)}):(f.text(""),h=!1,i())})),$("#priority").on("change",function(){b=$(".amount").val().trim(),c=$(".receiverAddress").val().trim(),b.length>0&&c.length>0&&!isNaN(b)?l(b,senderAddress,c,walletCurrencyCode).then(a=>{""!=c&&200==a&&j(c,walletCurrencyCode)}).catch(a=>{!0==a.responseText.hasOwnProperty("message")?alert(JSON.parse(a.responseText).message):alert(a.responseText)}):(f.text(""),h=!1,i())}),$(document).on("submit","#crypto-send-form",function(){window.localStorage.setItem("user-crypto-sent-amount",$(".amount").val().trim()),window.localStorage.setItem("user-crypto-receiver-address",$(".receiverAddress").val().trim()),window.localStorage.setItem("priority",$(".priority").val().trim()),$("#crypto-send-submit-btn").attr("disabled",!0),$(".fa-spinner").removeClass("d-none"),$("#crypto-send-submit-btn-txt").text(sending),setTimeout(function(){$(".fa-spinner").addClass("d-none"),$("#crypto-send-submit-btn").attr("disabled",!1),$("#crypto-send-submit-btn-txt").text(send)},1e4)})}if($(".main-content").find("#crypto-send-confirm").length){function n(){window.localStorage.setItem("previousUserCrytoSentUrl",document.URL),window.location.replace(cryptoSentCreateUrl)}$(document).on("click",".crypt-send-confirm-back-button",function(a){a.preventDefault(),n()}),$(document).on("click",".crypto-send-confirm",function(a){window.localStorage.removeItem("user-crypto-sent-amount"),window.localStorage.removeItem("user-crypto-receiver-address"),window.localStorage.removeItem("priority"),$(this).attr("disabled",!0),$(".fa-spin").removeClass("d-none"),$(".crypto-send-confirm-text").text(confirming),$(".crypto-send-confirm-link").click(function(a){a.preventDefault()}),$(".crypt-send-confirm-back-button").attr("disabled",!0).click(function(a){a.preventDefault()}),$(".send-money-confirm-back-link").click(function(a){a.preventDefault()})})}function printFunc(){window.print()}if($(".main-content").find("#crypto-send-success").length){function o(a){116==(a.which||a.keyCode)&&a.preventDefault()}function p(a){82==a.keyCode&&a.ctrlKey&&a.preventDefault()}$(document).ready(function(){window.history.pushState(null,"",window.location.href),window.onpopstate=function(){window.history.pushState(null,"",window.location.href)}}),$(document).ready(function(){$(document).bind("keydown",o)}),$(document).ready(function(){$(document).bind("keydown",p)})}$(".main-content").find("#crypto-receive-create").length&&($(window).on("load",function(a){jQuery("#wallet-address").qrcode({text:addressText})}),$(document).on("click",".wallet-address-copy-btn",function(){$("#wallet-address-input").select(),document.execCommand("copy"),swal({title:copied,text:addressCopyText,type:"info",icon:"success",closeOnClickOutside:!1,closeOnEsc:!1})}))