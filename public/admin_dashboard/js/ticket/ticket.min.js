"use strict";$(".content-wrapper").find("#ticket-reply").length&&($((function(){$(".select2").select2({})})),$((function(){$(".message").wysihtml5({events:{change:function(){0===$(".message").val().length?$("#error-message").addClass("error").html("This field is required.").css("font-weight","bold"):$("#error-message").html("")}}})})),$((function(){$(".editor").wysihtml5({events:{change:function(){0===$(".editor").val().length?$("#error-message-modal").addClass("error").html("This field is required.").css("font-weight","bold"):$("#error-message-modal").html("")}}})})),$.validator.setDefaults({highlight:function(element){$(element).parent("div").addClass("has-error")},unhighlight:function(element){$(element).parent("div").removeClass("has-error")},errorPlacement:function(error,element){"message"===element.prop("name")?$("#error-message").html(error):"editor"===element.prop("id")?$("#error-message-modal").html(error):error.insertAfter(element)}}),$("#reply_form").validate({ignore:":hidden:not(textarea)",rules:{message:"required",file:{extension:extensions}},messages:{file:{extension:fileErrorMessage}},submitHandler:function(form){$("#reply").attr("disabled",!0),$(".fa-spin").removeClass("d-none"),$("#reply_text").text("Replying..."),$("#customer_reply_button").attr("disabled",!0),$("#admin_reply_button").attr("disabled",!0),$(".edit-btn").attr("disabled",!0),$("#customer_reply_button").click(!1),$("#admin_reply_button").click(!1),$(".edit-btn").click(!1),form.submit()}}),$("#replyModal").validate({rules:{message:{required:!0}}}),$(document).ready((function(e){$(".edit-btn").on("click",(function(){var id=$(this).attr("data-id"),message=$(this).attr("data-message");message&&$("#replyModal iframe").contents().find(".wysihtml5-editor").html(message),$("#reply_id").val(id)}))})),$("#status_ticket").on("change",(function(){var status_id=$("#status_ticket").val();$.ajax({url:ticketStatusChangeUrl,method:"POST",data:{status_id:status_id,ticket_id:ticket_id,_token:token},dataType:"json",success:function(data){"1"==data.status&&($("#status_label").html(data.message),location.reload().delay(1e4))}})})));